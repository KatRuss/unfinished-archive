[gd_scene load_steps=11 format=3 uid="uid://dbgc65o0xthqm"]

[ext_resource type="Script" path="res://Scripts/Entities/Tank.gd" id="1_3t4a4"]
[ext_resource type="Resource" uid="uid://c04gcysl7ws1m" path="res://Resources/TestTankBody.tres" id="2_8rwun"]
[ext_resource type="Texture2D" uid="uid://cg0g47gw070sl" path="res://Assets/Test Tank Assets/Hulls_Color_C/Hull_01.png" id="2_dvwdn"]
[ext_resource type="Script" path="res://Scripts/Components/Pilot Seat Component.gd" id="3_oe4ir"]
[ext_resource type="Texture2D" uid="uid://betprfgkj3vxb" path="res://Assets/Test Tank Assets/Weapon_Color_C/Gun_08.png" id="3_pet5e"]
[ext_resource type="Script" path="res://Scripts/Components/TankHeadComponent.gd" id="3_ym6h4"]
[ext_resource type="Script" path="res://Scripts/Resources/TankHeadData.gd" id="5_r3ogy"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_smdu0"]
size = Vector2(218, 160)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_je5yq"]
size = Vector2(118, 88)

[sub_resource type="Resource" id="Resource_tyshh"]
script = ExtResource("5_r3ogy")
rotateSpeed = 1.5

[node name="Tank" type="CharacterBody2D" node_paths=PackedStringArray("tankHead", "pilotSeat")]
script = ExtResource("1_3t4a4")
bodyStats = ExtResource("2_8rwun")
tankHead = NodePath("Tank Head Component")
pilotSeat = NodePath("Pilot Seat Component")

[node name="Pilot Seat Component" type="Node2D" parent="."]
script = ExtResource("3_oe4ir")

[node name="Enter Area" type="Area2D" parent="Pilot Seat Component"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Pilot Seat Component/Enter Area"]
shape = SubResource("RectangleShape2D_smdu0")

[node name="Collision Component" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_je5yq")

[node name="Tank Sprite" type="Sprite2D" parent="."]
rotation = 1.5708
scale = Vector2(0.5, 0.5)
texture = ExtResource("2_dvwdn")

[node name="Tank Head Component" type="Node2D" parent="."]
script = ExtResource("3_ym6h4")
headData = SubResource("Resource_tyshh")

[node name="Pivot" type="Node2D" parent="Tank Head Component"]
position = Vector2(-23, 0)

[node name="TankHeadSprite" type="Sprite2D" parent="Tank Head Component/Pivot"]
position = Vector2(15, 0)
rotation = 1.5708
scale = Vector2(0.5, 0.5)
texture = ExtResource("3_pet5e")

[node name="ShootCast" type="RayCast2D" parent="Tank Head Component/Pivot"]
position = Vector2(58, 0)
target_position = Vector2(1000, 0)

[node name="Tank Inventory Component" type="Node2D" parent="."]

[connection signal="body_entered" from="Pilot Seat Component/Enter Area" to="Pilot Seat Component" method="_on_enter_area_body_entered"]
[connection signal="body_exited" from="Pilot Seat Component/Enter Area" to="Pilot Seat Component" method="_on_enter_area_body_exited"]
